{"ast":null,"code":"import _slicedToArray from \"C:/Users/mehbo/Downloads/frontend-developer-test-task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport default function useLandingPage() {\n  _s();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    rating = _useState2[0],\n    setRating = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    genre = _useState4[0],\n    setGenre = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchText = _useState6[0],\n    setSearchText = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    filteredData = _useState8[0],\n    setFilteredData = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    showList = _useState10[0],\n    setShowList = _useState10[1];\n  useEffect(function () {\n    listFilterHandler();\n  }, [searchText, rating.length, genre.length]);\n  var list = [{\n    name: \"The Matrix\",\n    rating: 7.5,\n    genre: \"Action\"\n  }, {\n    name: \"Focus\",\n    rating: 6.9,\n    genre: \"Comedy\"\n  }, {\n    name: \"The Lazarus Effect\",\n    rating: 6.4,\n    genre: \"Thriller\"\n  }, {\n    name: \"Everly\",\n    rating: 5.0,\n    genre: \"Action\"\n  }, {\n    name: \"Maps to the Stars\",\n    rating: 7.5,\n    genre: \"Drama\"\n  }];\n  var onFocus = function onFocus() {\n    setShowList(true);\n  };\n  var onChangeHandler = function onChangeHandler(e) {\n    setSearchText(e.target.value);\n  };\n  var listFilterHandler = function listFilterHandler() {\n    var isAnyRating = rating.includes(0);\n    var isAnyGenre = genre.includes(\"Any Genre\");\n    var filteredData = list.reduce(function (acc, item) {\n      if (searchText && !item.name.toLowerCase().includes(searchText.toLowerCase())) {\n        return acc;\n      }\n      if (!isAnyRating && rating.length && !rating.includes(Math.round(item === null || item === void 0 ? void 0 : item.rating))) {\n        return acc;\n      }\n      if (!isAnyGenre && genre.length && !genre.includes(item.genre)) {\n        return acc;\n      }\n      acc.push(item);\n      return acc;\n    }, []);\n    setFilteredData(filteredData);\n  };\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isGenreVisible = _useState12[0],\n    setIsGenreVisible = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isRatingVisible = _useState14[0],\n    setIsRatingVisible = _useState14[1];\n  var onGenreOpen = function onGenreOpen() {\n    setIsGenreVisible(!isGenreVisible);\n    setIsRatingVisible(false);\n  };\n  var onRatingOpen = function onRatingOpen() {\n    setIsRatingVisible(!isRatingVisible);\n    setIsGenreVisible(false);\n  };\n  return {\n    onRatingOpen: onRatingOpen,\n    onGenreOpen: onGenreOpen,\n    isGenreVisible: isGenreVisible,\n    isRatingVisible: isRatingVisible,\n    genre: genre,\n    setGenre: setGenre,\n    rating: rating,\n    setRating: setRating,\n    filteredData: filteredData,\n    onFocus: onFocus,\n    showList: showList,\n    searchText: searchText,\n    onChangeHandler: onChangeHandler\n  };\n}\n_s(useLandingPage, \"fKiJ5MEoTHEo1E7ujNO3dwxl1dg=\");","map":{"version":3,"names":["useEffect","useState","useLandingPage","_s","_useState","_useState2","_slicedToArray","rating","setRating","_useState3","_useState4","genre","setGenre","_useState5","_useState6","searchText","setSearchText","_useState7","_useState8","filteredData","setFilteredData","_useState9","_useState10","showList","setShowList","listFilterHandler","length","list","name","onFocus","onChangeHandler","e","target","value","isAnyRating","includes","isAnyGenre","reduce","acc","item","toLowerCase","Math","round","push","_useState11","_useState12","isGenreVisible","setIsGenreVisible","_useState13","_useState14","isRatingVisible","setIsRatingVisible","onGenreOpen","onRatingOpen"],"sources":["C:/Users/mehbo/Downloads/frontend-developer-test-task/src/pages/landingPage/useLandingPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nexport default function useLandingPage() {\r\n  const [rating, setRating] = useState([]);\r\n  const [genre, setGenre] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [showList, setShowList] = useState(false);\r\n  useEffect(() => {\r\n    listFilterHandler();\r\n  }, [searchText, rating.length, genre.length]);\r\n  const list = [\r\n    {\r\n      name: \"The Matrix\",\r\n      rating: 7.5,\r\n      genre: \"Action\"\r\n    },\r\n    {\r\n      name: \"Focus\",\r\n      rating: 6.9,\r\n      genre: \"Comedy\"\r\n    },\r\n    {\r\n      name: \"The Lazarus Effect\",\r\n      rating: 6.4,\r\n      genre: \"Thriller\"\r\n    },\r\n    {\r\n      name: \"Everly\",\r\n      rating: 5.0,\r\n      genre: \"Action\"\r\n    },\r\n    {\r\n      name: \"Maps to the Stars\",\r\n      rating: 7.5,\r\n      genre: \"Drama\"\r\n    }\r\n  ];\r\n\r\n  const onFocus = () => {\r\n    setShowList(true);\r\n  };\r\n  const onChangeHandler = (e) => {\r\n    setSearchText(e.target.value);\r\n  };\r\n\r\n  const listFilterHandler = () => {\r\n    const isAnyRating = rating.includes(0);\r\n    const isAnyGenre = genre.includes(\"Any Genre\");\r\n    const filteredData = list.reduce((acc, item) => {\r\n      if (\r\n        searchText &&\r\n        !item.name.toLowerCase().includes(searchText.toLowerCase())\r\n      ) {\r\n        return acc;\r\n      }\r\n\r\n      if (\r\n        !isAnyRating &&\r\n        rating.length &&\r\n        !rating.includes(Math.round(item?.rating))\r\n      ) {\r\n        return acc;\r\n      }\r\n\r\n      if (!isAnyGenre && genre.length && !genre.includes(item.genre)) {\r\n        return acc;\r\n      }\r\n\r\n      acc.push(item);\r\n\r\n      return acc;\r\n    }, []);\r\n    setFilteredData(filteredData);\r\n  };\r\n\r\n  const [isGenreVisible, setIsGenreVisible] = useState(false);\r\n  const [isRatingVisible, setIsRatingVisible] = useState(false);\r\n  const onGenreOpen = () => {\r\n    setIsGenreVisible(!isGenreVisible);\r\n    setIsRatingVisible(false);\r\n  };\r\n\r\n  const onRatingOpen = () => {\r\n    setIsRatingVisible(!isRatingVisible);\r\n    setIsGenreVisible(false);\r\n  };\r\n\r\n  return {\r\n    onRatingOpen,\r\n    onGenreOpen,\r\n    isGenreVisible,\r\n    isRatingVisible,\r\n    genre,\r\n    setGenre,\r\n    rating,\r\n    setRating,\r\n    filteredData,\r\n    onFocus,\r\n    showList,\r\n    searchText,\r\n    onChangeHandler\r\n  };\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}